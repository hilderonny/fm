<md-card ng-cloak ng-controller= "AdministrationCommunicationCardController" style="background-image:url('/css/icons/office/Briefcase.svg');">
    <md-card-title flex="none">
        <md-card-title-text>
            <span class="md-headline" ng-if= "isNewComm" translate>TRK_PERSONS_NEW_COMMUNICATION</span>
            <span class="md-headline" ng-if= "!isNewComm"  translate>TRK_PERSONS_COMMUNICATION_DETAILS</span>
        </md-card-title-text>
    </md-card-title>

   <md-button class="md-icon-button close" ng-click="closeCard()" aria-label="CLOSE CARD">
        <md-icon md-svg-src="/css/icons/material/Delete.svg"></md-icon>
  </md-button>

    <md-card-content >
        <form layout = "column">
             <md-input-container flex>
                <label translate>TRK_PERSONS_COMM_MEDIUM </label>  
                <md-select ng-model ="communication.selectedMedium" >  
                    <md-option ng-value="cm" ng-repeat="cm in communicationMediums"> 
                         <span translate="TRK_PERSONS_COMM_{{cm.name}}_MEDIUM"></span>
                    </md-option>  
                </md-select>
             </md-input-container>
            <md-input-container flex>
                <label translate>TRK_PERSONS_COMM_CONTACT </label>  
                <input ng-model ="communication.contact" name="contact">        
            </md-input-container>         

             <md-input-container flex>
                <label translate>TRK_PERSONS_COMM_TYPE </label>  
                <md-select ng-model ="communication.selectedType" >  
                    <md-option ng-value="t" ng-repeat="t in communication.selectedMedium.types"> 
                        <span translate="TRK_PERSONS_COMM_{{t.name}}_TYPE"></span>
                    </md-option>  
                </md-select>
             </md-input-container>        
            
             <md-card-actions layout="row" layout-align="end center">
                <md-button class="md-raised md-accent" ng-if= "isNewComm"  ng-click ="createCommunication()"><span translate>TRK_PERSONS_CREATE_COMM</span></md-button>
                <md-button class="md-raised md-accent" ng-if= "!isNewComm" ng-click = "saveCommunication()" ><span translate>TRK_PERSONS_SAVE</span></md-button>
                <md-button class="md-raised md-warn"   ng-if= "!isNewComm" ng-click = "deleteCommunication()"><span translate>TRK_PERSONS_DELETE</span></md-button>
            </md-card-actions>    
        </form>
    </md-card-content>

</md-card>